<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Front - Exemplo</title>
  </head>
  <body>
    <table id="tabela-lista">
      <thead>
        <tr>
          <th>#</th>
          <th>TÃ­tulo</th>
          <th>Artista</th>
        </tr>
      </thead>

      <tbody id="tabela-lista-corpo"></tbody>
    </table>

    <footer>meu teclado nao funciona o acento.</footer>

    <script>
      var objJson = [];

      const URL = `http://localhost:8080/musicas`;
      fetch(URL)
        .then((resposta) => resposta.json())
        .then((data) => preencherDados(data))
        .catch((erro) => console.error(erro));

      console.log(objJson);

      var listing_table = document.getElementById("tabela-lista-corpo");

      listing_table.innerHTML = "";

      function preencherDados(lista) {
        console.log(lista);
        lista.forEach((element) => {
          let linha = document.createElement("tr");
          let itemDaLinhaId = document.createElement("td");
          itemDaLinhaId.innerText = element.id;
          let itemDaLinhaNome = document.createElement("td");
          itemDaLinhaNome.innerText = element.titulo;
          let itemDaLinhaOpcao = document.createElement("td");
          itemDaLinhaOpcao.innerHTML = element.artista;
          linha.appendChild(itemDaLinhaId);
          linha.appendChild(itemDaLinhaNome);
          linha.appendChild(itemDaLinhaOpcao);
          listing_table.appendChild(linha);
        });
      }
    </script>
  </body>
</html>
